webpackJsonp([22],{"4cUR":function(t,e){},fh7p:function(t,e){},pjFk:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("BO1k"),n=a.n(i),r=a("XLwt"),s=a.n(r),o={name:"chartComponent",data:function(){return{lineType:"",lineDate:"",lineX:[],lineY:[],lineYArticel:[],lineYBook:[],lineYCharp:[],lineYChart:[],lineYPic:[],countResourceX:[],countResourceY:[],barX:["图书","报告","文章","篇章","插图","数据表","音频","视频"],barY:[],selectedType:"1",typeList:[{name:"全部",lable:"1"},{name:"皮书",lable:"3"},{name:"集刊",lable:"2"},{name:"大型文献",lable:"4"}],resourceData:""}},methods:{getLineDate:function(){var t=this;t.$http.get("/admin/cms/analysis/lineChart",{params:{type:t.lineType}}).then(function(e){t.lineDate=e.data.result;var a=!0,i=!1,r=void 0;try{for(var s,o=n()(e.data.result);!(a=(s=o.next()).done);a=!0){var c=s.value;t.lineX.push(c.date),t.lineY.push(c.data.articleNum+c.data.bookNum+c.data.chapterNum+c.data.chartNum+c.data.pictureNum),t.lineYArticel.push(c.data.articleNum),t.lineYBook.push(c.data.bookNum),t.lineYCharp.push(c.data.chapterNum),t.lineYChart.push(c.data.chartNum),t.lineYPic.push(c.data.pictureNum)}}catch(t){i=!0,r=t}finally{try{!a&&o.return&&o.return()}finally{if(i)throw r}}t.getLine()})},getLine:function(){var t=s.a.init(document.getElementById("main"));this.lineX,this.lineY;var e={title:{text:"资源入库趋势图",textStyle:{fontSize:16,color:"#666"}},legend:{data:["全部","文章","图书","篇章","图表","图片"],orient:"horizontal",x:"50",y:"bottom"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},xAxis:{type:"category",data:this.lineX},yAxis:{type:"value"},series:[{name:"全部",type:"line",data:this.lineY},{name:"文章",type:"line",data:this.lineYArticel},{name:"图书",type:"line",data:this.lineYBook},{name:"篇章",type:"line",data:this.lineYCharp},{name:"图表",type:"line",data:this.lineYChart},{name:"图片",type:"line",data:this.lineYPic}]};t.setOption(e,!0)},typeChange:function(){this.getResourceData()},dataChange:function(){switch(this.barY=[],this.barY.push(this.resourceData.bookNum),this.selectedType){case"1":case"4":this.barY.push(this.resourceData.report),this.barY.push(this.resourceData.articleNum),this.barY.push(this.resourceData.chapterNum),this.barX=["图书","报告","文章","篇章","插图","数据表","音频","视频"];break;case"2":this.barY.push(this.resourceData.report),this.barX=["图书","报告","插图","数据表","音频","视频"];break;case"3":this.barY.push(this.resourceData.articleNum),this.barX=["图书","文章","插图","数据表","音频","视频"]}this.barY.push(this.resourceData.pictureNum),this.barY.push(this.resourceData.chartNum),this.barY.push(this.resourceData.video),this.barY.push(this.resourceData.audio),this.drowResourceBar()},drowResourceBar:function(){var t=s.a.init(document.getElementById("main")),e={color:["#45AEC3"],tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},xAxis:{type:"category",data:this.barX},yAxis:{type:"value"},series:[{name:"数量",type:"bar",data:this.barY}]};t.setOption(e,!0)},getResourceData:function(){var t=this;t.$http({method:"get",url:"/admin/cms/analysis/barGraph?type="+t.selectedType,headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){0==e.data.code&&(t.resourceData=e.data.result,t.dataChange())})},getResourceCount:function(){var t=this;t.$http({method:"get",url:"/admin/cms/analysis/barGraph2",headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){0==e.data.code&&(t.countResourceY=e.data.result,t.drowCountBar())})},drowCountBar:function(){var t=s.a.init(document.getElementById("mainBar")),e={color:["#45AEC3"],tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},xAxis:{type:"category",axisLabel:{interval:0,rotate:30},data:["社内资源(图书)","授权期内","授权期外","社外资源(全部)"]},yAxis:{type:"value"},series:[{name:"数量",type:"bar",barWidth:60,data:this.countResourceY}]};t.setOption(e,!0)}},mounted:function(){this.getResourceData(),this.getResourceCount()}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"chartSlct"},[a("el-select",{attrs:{size:"small",placeholder:"请选择"},on:{change:t.typeChange},model:{value:t.selectedType,callback:function(e){t.selectedType=e},expression:"selectedType"}},t._l(t.typeList,function(t){return a("el-option",{key:t.lable,attrs:{label:t.name,value:t.lable}})}))],1),t._v(" "),a("div",{staticClass:"line_box",staticStyle:{display:"inline-block",width:"50%",height:"420px"},attrs:{id:"main"}}),t._v(" "),a("div",{staticClass:"line_box",staticStyle:{display:"inline-block",width:"49%",height:"420px"},attrs:{id:"mainBar"}})])},staticRenderFns:[]};var l={name:"adminManageHome",data:function(){return{lineType:"",lineDate:"",lineX:[],lineY:[],lineYArticel:[],lineYBook:[],lineYCharp:[],lineYChart:[],lineYPic:[]}},components:{chartComponent:a("VU/8")(o,c,!1,function(t){a("fh7p")},"data-v-7686b6cc",null).exports},methods:{quickEntry:function(t){switch(t){case 1:return void this.$router.push({path:"/main/resourcePublish",query:{type:"1"}});case 2:return void this.$router.push({path:"/main/publishMsgManage"});case 3:return void this.$router.push({path:"/main/bookManage"});case 4:return void this.$router.push({path:"/main/chaperArticalManage",query:{type:"chapter"}});case 5:return void this.$router.push({path:"/main/articalManage",query:{type:"article"}})}}},created:function(){}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rt_cont"},[a("div",{staticStyle:{padding:"10px 0",background:"#F0F2F5"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/main/adminManageHome"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",[t._v("管理员首页")])],1)],1),t._v(" "),a("div",{staticClass:"nrgl"},[a("div",{staticClass:"btnhandle"},[a("div",{staticClass:"navigation"},[a("span",[t._v(" 快捷入口:")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.quickEntry(3)}}},[t._v("图书管理")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.quickEntry(4)}}},[t._v("篇章管理")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.quickEntry(5)}}},[t._v("文章管理")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.quickEntry(1)}}},[t._v("资源发布")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.quickEntry(2)}}},[t._v("出版信息管理")])],1)]),t._v(" "),a("div",{staticClass:"charts_box"},[a("chart-component")],1)])])},staticRenderFns:[]};var h=a("VU/8")(l,u,!1,function(t){a("4cUR")},"data-v-b7a1f2d6",null);e.default=h.exports}});