webpackJsonp([27],{"R+gP":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("kjsE"),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rt_cont"},[a("div",{staticStyle:{padding:"10px 0",background:"#F0F2F5"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/main/adminManageHome"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",[t._v("基础知识库")])],1)],1),t._v(" "),a("div",{staticClass:"nrgl"},[a("div",{staticClass:"btnhandle"},[a("h5",{staticClass:"pagett"},[t._v("关键词管理")]),t._v(" "),a("a",{staticClass:"aBtn",on:{click:function(e){t.exportFile(e)}}},[t._v("导出关键词")]),t._v(" "),a("a",{attrs:{href:"/admin/cms/keywords/download",download:"",id:"export"}},[t._v("导出关键词")]),t._v(" "),a("loading-tip",{attrs:{"show-load":t.loading}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"table"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.keywordList,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange,"sort-change":t.sortbydate}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"source",label:"来源"}}),t._v(" "),a("el-table-column",{attrs:{prop:"abstracts",label:"描述"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"添加时间",formatter:t.updateTimeFormat,sortable:"custom"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticStyle:{color:"#409EFF"},on:{click:function(a){t.editor(e.$index,e.row,0)}}},[t._v("编辑")]),a("span",{staticStyle:{padding:"0px 8px"}},[t._v("|")]),a("a",{staticStyle:{color:"#409EFF"},on:{click:function(a){t.editor(e.$index,e.row,1)}}},[t._v("查看")])]}}])})],1),t._v(" "),a("div",{staticClass:"page"},[a("div",{staticClass:"fr"},[a("el-pagination",{attrs:{background:"","current-page":t.curPage,"page-size":t.limit,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.curPage=e}}})],1)])],1),t._v(" "),a("div",{staticClass:"upldbtn"},[a("el-row",{staticClass:"btnrow fr"},[a("el-input",{staticStyle:{width:"280px"},attrs:{size:"mini",placeholder:"请输入关键词名称"},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}}),t._v(" "),a("el-date-picker",{staticClass:"inputsc",attrs:{size:"mini",type:"date",placeholder:"添加时间",format:"yyyy年MM月dd日","value-format":"yyyy-MM-dd"},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),t._v(" "),a("span",[t._v("至")]),t._v(" "),a("el-date-picker",{staticClass:"inputsc",attrs:{size:"mini",type:"date",placeholder:"添加时间",format:"yyyy年MM月dd日","value-format":"yyyy-MM-dd"},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}}),t._v(" "),a("a",{staticClass:"aBtn",on:{click:t.getkeyWord}},[t._v("搜索")]),t._v(" "),a("a",{staticClass:"aBtn aBtnCancle",on:{click:t.clearOption}},[t._v("重置")])],1)],1)],1),t._v(" "),a("div",{staticClass:"pop",class:{showpop:t.isshow,hidepop:!t.isshow}},[a("div",{staticClass:"upldttl"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.issave,expression:"issave"}]},[t._v("编辑关键词")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.issave,expression:"!issave"}]},[t._v("关键词详情")]),t._v(" "),a("div",{staticClass:"el-notification__closeBtn el-icon-close upclose",on:{click:function(e){t.isshow=!t.isshow}}})]),t._v(" "),a("div",{staticClass:"type_iterm"},[a("div",{staticClass:"type_title"},[t._v("名称：")]),t._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.curKeyWord.title,callback:function(e){t.$set(t.curKeyWord,"title",e)},expression:"curKeyWord.title"}})],1),t._v(" "),a("div",{staticClass:"type_iterm"},[a("div",{staticClass:"type_title"},[t._v("相似词：")]),t._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.curKeyWord.likeWords,callback:function(e){t.$set(t.curKeyWord,"likeWords",e)},expression:"curKeyWord.likeWords"}})],1),t._v(" "),a("div",{staticClass:"type_iterm"},[a("div",{staticClass:"type_title"},[t._v("检索词：")]),t._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.curKeyWord.searchWords,callback:function(e){t.$set(t.curKeyWord,"searchWords",e)},expression:"curKeyWord.searchWords"}})],1),t._v(" "),a("div",{staticClass:"type_iterm"},[a("div",{staticClass:"type_title"},[t._v("来源：")]),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择"},model:{value:t.curKeyWord.source,callback:function(e){t.$set(t.curKeyWord,"source",e)},expression:"curKeyWord.source"}})],1),t._v(" "),a("div",{staticClass:"type_iterm"},[a("div",{staticClass:"type_title"},[t._v("描述：")]),t._v(" "),a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.curKeyWord.abstracts,callback:function(e){t.$set(t.curKeyWord,"abstracts",e)},expression:"curKeyWord.abstracts"}})],1),t._v(" "),a("el-row",{staticClass:"btnrow"},[a("a",{directives:[{name:"show",rawName:"v-show",value:t.issave,expression:"issave"}],staticClass:"aBtn",on:{click:t.saveEditor}},[t._v("保存")]),t._v(" "),a("a",{staticClass:"aBtn aBtnCancle",on:{click:function(e){t.isshow=!t.isshow}}},[t._v("取消")])])],1)])])},staticRenderFns:[]};var r=function(t){a("z0jP")},o=a("VU/8")(s.a,i,!1,r,"data-v-72702f2e",null);e.default=o.exports},kjsE:function(t,e,a){"use strict";(function(t){var s=a("mvHQ"),i=a.n(s),r=a("T8Lg");e.a={name:"keyword",data:function(){return{loading:!1,keywordList:[],keyWord:"",curKeyWord:"",multipleSelection:[],total:0,curPage:1,limit:14,isshow:!1,startDate:"",endDate:"",sidx:"createTime",order:"desc",issave:!0}},components:{loadingTip:r.a},methods:{clearOption:function(){this.keyWord="",this.startDate="",this.endDate="",this.getkeyWord()},handleSelectionChange:function(t){this.multipleSelection=t},handleCurrentChange:function(t){this.curPage=t,this.getkeyWord()},updateTimeFormat:function(t,e,a,s){if(a)return a.split(" ")[0]},exportFile:function(e){(e=window.event||e).target||e.srcElement;t("#export").click()},editor:function(t,e,a){this.isshow=!this.isshow,this.issave=0==a;var s=i()(e);this.curKeyWord=JSON.parse(s)},saveEditor:function(){var t=this;t.curKeyWord.title&&""!=t.curKeyWord.title.trim()||t.$message.error("名称不能为空！"),t.$http({method:"post",url:"/admin/cms/keywords/update",data:t.curKeyWord,headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){0==e.data.code?(t.getkeyWord(),t.$message.success("修改成功！"),t.isshow=!1):t.$message.error(e.data.msg)})},sortbydate:function(t,e,a){this.order="ascending"==t.order?"asc":"desc",this.getkeyWord()},getkeyWord:function(){var t=this;t.loading=!0,t.$http({method:"get",url:"/admin/cms/keywords/list",params:{keyWord:t.keyWord,startDate:""==t.startDate?null:t.startDate,endDate:""==t.endDate?null:t.endDate,page:t.curPage,limit:t.limit,sidx:t.sidx,order:t.order},headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){0==e.data.code&&(t.keywordList=e.data.page.list,t.total=e.data.page.totalCount),t.loading=!1})}},created:function(){this.getkeyWord()}}}).call(e,a("7t+N"))},z0jP:function(t,e){}});