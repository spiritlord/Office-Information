webpackJsonp([4],{FBRS:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-dialog",{attrs:{visible:t.isShow,width:"45%"},on:{"update:visible":function(e){t.isShow=e}}},[s("div",{staticStyle:{"margin-top":"-20px"}},[s("img",{attrs:{src:t.imgUrl,width:"100%",alt:""}})])])],1)},staticRenderFns:[]},l=s("VU/8")({data:function(){return{isShow:this.showImg}},props:["showImg","imgUrl"],watch:{showImg:function(){this.isShow=this.showImg},isShow:function(){this.isShow||this.$emit("closeView",!1)}}},a,!1,null,null,null);e.a=l.exports},Ivdt:function(t,e){},kpBJ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"lookPictureChart",data:function(){return{showImg:!1,activeName:"first",imageUrl:"",options:[{value:"picture",label:"图片"},{value:"chart",label:"图表"}],book:{coverSrc:"1"},resourceTypeCode:"",bookId:"",basics:"",keyWordCn:[],cnVisible:!1,cnValue:""}},components:{imgview:s("FBRS").a},methods:{handleAvatarSuccess:function(t,e){0==t.code&&(this.imageUrl=URL.createObjectURL(e.raw),this.book.url=t.url)},changeData:function(){this.showImg=!1},handleClose:function(t){this.keyWordCn.splice(this.keyWordCn.indexOf(t),1)},showInput:function(){var t=this;this.cnVisible=!0,this.$nextTick(function(e){t.$refs.cnInput.$refs.input.focus()})},handleInputConfirm:function(){this.cnValue&&this.keyWordCn.push(this.cnValue),this.cnVisible=!1,this.cnValue=""},getPictureMsg:function(){var t=this;t.$http({method:"get",url:"/admin/cms/picturechart/info/"+t.bookId,headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){t.book=e.data.pictureChart,t.book.searchKeyWord&&(t.keyWordCn=t.book.searchKeyWord.split(";")),t.book.fieldTypeMap.basics&&(t.basics=t.book.fieldTypeMap.basics)})}},mounted:function(){document.getElementsByClassName("el-tabs__content")[0].style.maxHeight=document.body.clientHeight-220+"px"},created:function(){this.resourceTypeCode=this.$route.query.type,this.bookId=this.$route.query.id,this.getPictureMsg()}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rt_cont"},[s("div",{staticStyle:{padding:"10px 0",background:"#F0F2F5"}},[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/main/adminManageHome"}}},[t._v("首页")]),t._v(" "),"picture"==t.resourceTypeCode?s("el-breadcrumb-item",{attrs:{to:{path:"/main/pictureManage?type=picture"}}},[t._v("图片管理列表")]):s("el-breadcrumb-item",{attrs:{to:{path:"/main/chartManage?type=chart"}}},[t._v("图表管理列表")]),t._v(" "),"picture"==t.resourceTypeCode?s("el-breadcrumb-item",[t._v("图片管理")]):s("el-breadcrumb-item",[t._v("图表管理")])],1)],1),t._v(" "),s("div",{staticClass:"nrgl"},[s("el-tabs",{staticClass:"tabnav",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{name:"first"}},["picture"==t.resourceTypeCode?s("span",{attrs:{slot:"label"},slot:"label"},[t._v("图片详情")]):s("span",{attrs:{slot:"label"},slot:"label"},[t._v("图表详情")]),t._v(" "),s("div",{staticClass:"msg"},[s("div",{staticClass:"pcPreview"},["xlsx"==t.book.picType||"xls"==t.book.picType?s("div",{staticStyle:{"text-align":"right",color:"#f5f5f5"}},[s("a",{staticClass:"aBtn",attrs:{href:"/admin/cms/attachment/downloadByUrl?url="+t.book.url}},[t._v("下载预览")])]):s("div",[s("el-upload",{staticClass:"bookimg",attrs:{action:"/admin/sys/oss/upload","show-file-list":!1,"on-success":t.handleAvatarSuccess}},[t.book.url?s("img",{staticClass:"avatar",attrs:{src:t.book.url}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),s("a",{staticStyle:{color:"#409EFF"},on:{click:function(e){t.showImg=!0}}},[t._v("预览")])],1)]),t._v(" "),s("el-row",{staticClass:"typeTitle",attrs:{gutter:10}},[s("el-col",{attrs:{span:3}},[s("h5",{staticClass:"msgTitle"},[t._v("标题")])]),t._v(" "),s("el-col",{attrs:{span:9}},[s("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.book.title,callback:function(e){t.$set(t.book,"title",e)},expression:"book.title"}})],1),t._v(" "),s("el-col",{attrs:{span:3}},[s("h5",{staticClass:"msgTitle"},[t._v("名称")])]),t._v(" "),s("el-col",{attrs:{span:9}},[s("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.book.name,callback:function(e){t.$set(t.book,"name",e)},expression:"book.name "}})],1)],1),t._v(" "),s("el-row",{staticClass:"typeTitle",attrs:{gutter:10}},[s("el-col",{attrs:{span:3}},[s("h5",{staticClass:"msgTitle"},[t._v("所属图书")])]),t._v(" "),s("el-col",{attrs:{span:9}},[s("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.book.bookTitle,callback:function(e){t.$set(t.book,"bookTitle",e)},expression:"book.bookTitle"}})],1),t._v(" "),s("el-col",{attrs:{span:3}},[s("h5",{staticClass:"msgTitle"},[t._v("所属章节")])]),t._v(" "),s("el-col",{attrs:{span:9}},[s("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.book.articleTitle,callback:function(e){t.$set(t.book,"articleTitle",e)},expression:"book.articleTitle "}})],1)],1),t._v(" "),s("el-row",{staticClass:"typeTitle",attrs:{gutter:10}},[s("el-col",{attrs:{span:3}},[s("h5",{staticClass:"msgTitle"},[t._v("大小")])]),t._v(" "),s("el-col",{attrs:{span:9}},[s("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.book.picSize,callback:function(e){t.$set(t.book,"picSize",e)},expression:"book.picSize"}})],1),t._v(" "),s("el-col",{attrs:{span:3}},[s("h5",{staticClass:"msgTitle"},[t._v("类型")])]),t._v(" "),s("el-col",{attrs:{span:9}},[s("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.book.picType,callback:function(e){t.$set(t.book,"picType",e)},expression:"book.picType "}})],1)],1),t._v(" "),s("el-row",{staticClass:"typeTitle",attrs:{gutter:10}},[s("el-col",{attrs:{span:3}},["picture"==t.resourceTypeCode?s("h5",{staticClass:"msgTitle"},[t._v("所有者")]):s("h5",{staticClass:"msgTitle"},[t._v("制作人")])]),t._v(" "),s("el-col",{attrs:{span:9}},[s("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.book.author,callback:function(e){t.$set(t.book,"author",e)},expression:"book.author"}})],1),t._v(" "),s("el-col",{attrs:{span:3}},[s("h5",{staticClass:"msgTitle"},[t._v("来源")])]),t._v(" "),s("el-col",{attrs:{span:9}},[s("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.book.pictureSource,callback:function(e){t.$set(t.book,"pictureSource",e)},expression:"book.pictureSource "}})],1)],1),t._v(" "),s("el-row",{staticClass:"typeTitle",attrs:{gutter:10}},[s("el-col",{attrs:{span:3}},[s("h5",{staticClass:"msgTitle"},[t._v("XMLID")])]),t._v(" "),s("el-col",{attrs:{span:9}},[s("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.book.xmlId,callback:function(e){t.$set(t.book,"xmlId",e)},expression:"book.xmlId "}})],1)],1),t._v(" "),s("el-row",{staticClass:"typeTitle",attrs:{gutter:10}},[s("el-col",{attrs:{span:3}},[s("h5",{staticClass:"msgTitle"},[t._v("检索关键字")])]),t._v(" "),s("el-col",{attrs:{span:21}},[t._l(t.keyWordCn,function(e){return s("el-tag",{key:e,staticClass:"kwdTag",attrs:{closable:"","disable-transitions":!1},on:{close:function(s){t.handleClose(e)}}},[t._v("\n                              "+t._s(e)+"\n                          ")])}),t._v(" "),t.cnVisible?s("el-input",{ref:"cnInput",staticClass:"input-new-tag width120",attrs:{size:"mini"},on:{blur:function(e){t.handleInputConfirm()}},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleInputConfirm()}},model:{value:t.cnValue,callback:function(e){t.cnValue=e},expression:"cnValue"}}):s("a",{staticClass:"aBtn aBtnCancle slctBtn",on:{click:function(e){t.showInput()}}},[t._v("+新增")])],2)],1),t._v(" "),s("el-row",{staticClass:"typeTitle",attrs:{gutter:10}},[s("el-col",{attrs:{span:3}},[s("h5",{staticClass:"msgTitle"},[t._v("描述")])]),t._v(" "),s("el-col",{attrs:{span:21}},[s("el-input",{attrs:{size:"small",type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:t.book.pictureDescription,callback:function(e){t.$set(t.book,"pictureDescription",e)},expression:"book.pictureDescription"}})],1)],1),t._v(" "),t.basics?s("div",t._l(t.book.fieldTypeMap.basics.fieldList,function(e){return s("el-row",{key:e.id,staticClass:"typeTitle",attrs:{gutter:10}},[s("el-col",{attrs:{span:3}},[s("h5",{staticClass:"msgTitle"},[t._v(t._s(e.name))])]),t._v(" "),s("el-col",{attrs:{span:21}},[1==e.inputType?s("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.customFieldData.value,callback:function(s){t.$set(e.customFieldData,"value",s)},expression:"iterm.customFieldData.value"}}):s("el-input",{attrs:{type:"textarea",size:"small",rows:4,placeholder:"请输入内容"},model:{value:e.customFieldData.value,callback:function(s){t.$set(e.customFieldData,"value",s)},expression:"iterm.customFieldData.value"}})],1)],1)})):t._e()],1)])],1),t._v(" "),s("imgview",{attrs:{"img-url":t.book.url,"show-img":t.showImg},on:{closeView:t.changeData}})],1)])},staticRenderFns:[]};var o=s("VU/8")(a,l,!1,function(t){s("Ivdt")},"data-v-65fcfdeb",null);e.default=o.exports}});